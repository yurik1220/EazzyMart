<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cashier Dashboard — Eazzy Mart</title>

  <!-- ===== Bootstrap 5 ===== -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- ===== SweetAlert2 ===== -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- ===== Custom CSS ===== -->
  <link rel="stylesheet" href="../css/adminstyle.css">
  <link rel="stylesheet" href="../css/cashier.css">

  <style>
    /* Smooth fade-in when authorized */
    #cashier-dashboard {
  display: none;
  opacity: 0;
  transition: opacity 0.4s ease-in-out;
}
#cashier-dashboard.visible {
  display: block;
  opacity: 1;
}

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }

    body {
      background-color: var(--color-bg);
    }
  </style>
</head>
<body class="bg-light">

  <!-- ===== NAVBAR ===== -->
  <nav class="cashier-navbar">
    <div class="cashier-navbar-container">
      <div class="cashier-brand">
        <img src="../assets/images/eazzymartlogo.png" alt="Eazzy Mart Logo" class="cashier-logo">
        <div class="cashier-brand-text">
          <span class="cashier-brand-title">Eazzy Mart</span>
          <span class="cashier-brand-subtitle">Cashier Dashboard</span>
        </div>
      </div>
      
      <div class="cashier-navbar-actions">
        <button id="logoutBtn" class="cashier-logout-btn">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7 16H3C2.44772 16 2 15.5523 2 15V3C2 2.44772 2.44772 2 3 2H7M12 13L16 9M16 9L12 5M16 9H7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Logout</span>
      </button>
      </div>
    </div>
  </nav>

  <!-- ===== CASHIER DASHBOARD ===== -->
  <main id="cashier-dashboard" class="cashier-main">
    <div class="cashier-header">
      <div class="cashier-header-content">
        <div>
          <h1 class="cashier-page-title">Customer Orders</h1>
          <p class="cashier-page-subtitle">Manage and process customer orders</p>
        </div>
        <div class="cashier-header-actions">
          <a href="Admin.html" class="cashier-back-btn">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Back to Dashboard</span>
          </a>
          <button id="refreshBtn" class="cashier-refresh-btn">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 9C1 13.4183 4.58172 17 9 17C13.4183 17 17 13.4183 17 9C17 4.58172 13.4183 1 9 1M1 9L5 5M1 9L5 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Refresh</span>
      </button>
        </div>
      </div>
    </div>

    <!-- Status Tabs -->
    <div class="cashier-tabs-card">
        <div class="orders-tabs">
          <button class="tab-btn active" data-status="all">
            <span>All</span>
            <span class="tab-count" id="all-count">0</span>
          </button>
          <button class="tab-btn" data-status="Pending">
            <span>Pending</span>
            <span class="tab-count" id="pending-count">0</span>
          </button>
          <button class="tab-btn" data-status="In Process">
            <span>In Process</span>
            <span class="tab-count" id="inprocess-count">0</span>
          </button>
          <button class="tab-btn" data-status="Out for Delivery">
            <span>Out for Delivery</span>
            <span class="tab-count" id="outfordelivery-count">0</span>
          </button>
          <button class="tab-btn" data-status="Delivered">
            <span>Delivered</span>
            <span class="tab-count" id="delivered-count">0</span>
          </button>
          <button class="tab-btn" data-status="Cancelled">
            <span>Cancelled</span>
            <span class="tab-count" id="cancelled-count">0</span>
          </button>
          <button class="tab-btn" data-status="return-refund">
            <span>Return/Refund</span>
            <span class="tab-count" id="return-refund-count">0</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Return/Refund Requests Table (hidden by default) -->
    <div id="return-refund-section" class="cashier-table-card" style="display: none;">
      <div class="cashier-card-header">
        <h3 class="cashier-card-title">Return/Refund Requests</h3>
      </div>
      <div class="cashier-card-body">
        <div class="cashier-table-wrapper">
          <table class="cashier-table">
            <thead>
              <tr>
                <th>#</th>
                <th>Order ID</th>
                <th>Customer</th>
                <th>Reason</th>
                <th>Type</th>
                <th>Amount</th>
                <th>Image</th>
                <th>Status</th>
                <th>Created</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="return-refund-table-body">
              <!-- Filled dynamically by cashier.js -->
            </tbody>
          </table>
        </div>
        <p id="return-refund-empty-message" class="cashier-empty-message d-none">
          No return/refund requests found.
        </p>
      </div>
    </div>

    <!-- Orders Table -->
    <div class="cashier-table-card">
      <div class="cashier-card-header">
        <h3 class="cashier-card-title">Orders</h3>
      </div>
      <div class="cashier-card-body">
        <div id="orders-list">
          <div class="cashier-table-wrapper">
            <table class="cashier-table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Customer Name</th>
                  <th>Items</th>
                  <th>Total (₱)</th>
                  <th>Payment</th>
                  <th>Order Type</th>
                  <th>Delivery Address</th>
                  <th>Contact Number</th>
                  <th>Transaction Number</th>
                  <th>Status</th>
                  <th>Actions</th>
                  <th>View</th>
                </tr>
              </thead>
              <tbody id="orders-table-body">
                <!-- Filled dynamically by cashier.js -->
              </tbody>
            </table>
          </div>
          <p id="empty-message" class="cashier-empty-message d-none">
            No orders found.
          </p>
        </div>
      </div>
    </div>
  </main>

  <!-- ===== FOOTER ===== -->
  <footer class="cashier-footer">
    <p>&copy; 2025 Eazzy Mart — Cashier Panel</p>
  </footer>

  <!-- ===== Bootstrap JS & Cashier Script ===== -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- API Configuration - Must be loaded before other scripts -->
  <script src="../js/config.js"></script>
  <script src="../js/cashier.js"></script>
</body>
</html>
